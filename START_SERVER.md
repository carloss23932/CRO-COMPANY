# 🚀 تشغيل خادم موقع CRO

## المتطلبات المسبقة
- Node.js مثبت على النظام (الإصدار 14 أو أحدث)

## الخطوات:

### 1️⃣ تثبيت الحزم المطلوبة
افتح PowerShell في مجلد المشروع وشغّل:
```powershell
npm install
```

### 2️⃣ إعداد متغيرات البيئة (للبريد الإلكتروني)
في PowerShell، عرّف المتغيرات التالية:
```powershell
$env:SMTP_USER = "nkslssk1987@gmail.com"
$env:SMTP_PASS = "YOUR_GMAIL_APP_PASSWORD"
$env:TO_EMAIL = "nkslssk1987@gmail.com"
```

**مهم:** استخدم App Password من Gmail، وليس كلمة المرور العادية:
1. اذهب إلى [إعدادات Google Account](https://myaccount.google.com/)
2. فعّل التحقق الثنائي إن لم يكن مفعّلاً
3. في قسم "Security" → "App passwords" أنشئ كلمة مرور جديدة
4. استخدم هذه الكلمة في `SMTP_PASS`

### 3️⃣ تشغيل الخادم
```powershell
npm start
```

### 4️⃣ فتح الموقع
افتح المتصفح واذهب إلى:
```
http://localhost:3000
```

## 🧪 اختبار نموذج الاتصال
1. اذهب إلى قسم "اتصل بنا" في الموقع
2. املأ النموذج واضغط "إرسال الرسالة"
3. ستصلك رسالة على البريد المحدد في `TO_EMAIL`

## 📝 ملاحظات
- إذا لم تُعرّف متغيرات البيئة، سيعمل الموقع لكن لن تُرسل الرسائل فعلياً
- الرسائل ستظهر في وحدة التحكم (console) حتى لو لم تُرسل
- يمكنك استخدام خدمات بريد أخرى بتعديل متغيرات SMTP

## ⚠️ استكشاف الأخطاء
- **"Cannot find module"**: شغّل `npm install` مرة أخرى
- **"Invalid login"**: تأكد من استخدام App Password وليس كلمة المرور العادية
- **"ENOTFOUND smtp.gmail.com"**: تحقق من اتصال الإنترنت
- **"Rate limited"**: انتظر 15 دقيقة بين المحاولات