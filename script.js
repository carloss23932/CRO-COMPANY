// قاموس الترجمة - يحتوي على جميع النصوص العربية والإنجليزية
const translations = {
    'en': {
        // العناوين العامة والتنقل
        pageTitle: 'CRO - App Development',
        navAbout: 'About Us',
        navPortfolio: 'Our Apps',
        navUpdates: 'Updates',
        navContact: 'Contact',
        heroHeading: 'Android Innovators: Turning Your Ideas into Outstanding Digital Applications.',
        heroText: 'Specialized solutions in Android app development and professional user interface design.',
        heroCTA: 'Start Your Project Now',
        
        // قسم من نحن والخدمات
        aboutHeading: 'Who We Are?',
        aboutText: 'At **CRO**, we are a specialized team of developers and UI/UX designers passionate about creating innovative Android applications and exceptional user interfaces. Our mission is to help businesses reach millions of Android users through high-performance apps and attractive designs.',
        servicesHeading: 'Our Core Services',
        service1Title: 'Android App Development',
        service1Text: 'Building innovative and high-performance Android applications using the latest technologies like Kotlin and Java. Apps compatible with all Android versions.',
        service2Title: 'User Interface/Experience Design (UI/UX)',
        service2Text: 'We design modern and attractive user interfaces following the latest Material Design standards. Smooth and enjoyable user experience that ensures customer retention.',
        service3Title: 'App Development & Enhancement',
        service3Text: 'We analyze and improve existing applications, enhance performance and add new features. Specialized consulting services.',
        
        // قسم التطبيقات (Portfolio)
        portfolioHeading: 'Our Published Apps',
        portfolioSubText: 'Here are some of our outstanding projects that have made a difference in the market.',
        
        // التطبيق الأول
        app1Title: 'AndroidShop - Smart Store',
        app1Desc: 'Advanced Android e-commerce app providing seamless shopping experience with modern Material Design interface. Supports electronic payments and real-time tracking.',
        app1CTA: 'Download Now',

        // التطبيق الثاني
        app2Title: 'TaskPro Android',
        app2Desc: 'Advanced Android task management app with intelligent user interface. Features AI capabilities and instant synchronization. Increased client productivity by 50%.',
        app2CTA: 'Download Now',
        
        // التطبيق الثالث
        app3Title: 'UI Showcase - Interface Gallery',
        app3Desc: 'Android app showcasing our latest UI/UX designs. Innovative interfaces following Material Design 3 with advanced interactive effects.',
        app3CTA: 'Visit Gallery',
        
        // قسم الأخبار (Updates)
        updatesHeading: 'Latest News and Posts',
        post1Title: 'New Partnership with Saudi Bank',
        post1Desc: 'We are delighted to announce our strategic collaboration to develop the pioneering FinTech Pro app in the financial technology sector.',
        post1Link: 'Read More',
        post2Title: 'Launching the New AI Assistant Feature',
        post2Desc: 'We have updated the TaskManager Pro app by adding the long-awaited AI Assistant feature to greatly enhance user experience.',
        post2Link: 'Read More',
        
        // قسم التواصل (Contact)
        contactHeading: 'Contact Us',
        contactLead: 'Our team is waiting for you! Get in touch today to turn your idea into reality. Send us a message or contact us via the details below.',
        contactEmailLabel: 'Email:',
        contactPhoneLabel: 'Phone:',
        
        // التذييل
        footerText: '© 2024. CRO. All rights reserved.'
    },
    'ar': {
        // العناوين العامة والتنقل
        pageTitle: 'CRO - تطوير التطبيقات',
        navAbout: 'من نحن',
        navPortfolio: 'تطبيقاتنا',
        navUpdates: 'الأخبار',
        navContact: 'اتصل بنا',
        heroHeading: 'مبدعون في Android: نحول أفكارك إلى تطبيقات رقمية متميزة.',
        heroText: 'حلول متخصصة في تطوير تطبيقات Android وتصميم واجهات مستخدم احترافية.',
        heroCTA: 'ابدأ مشروعك الآن',
        
        // قسم من نحن والخدمات
        aboutHeading: 'من نحن؟',
        aboutText: 'نحن في **CRO**، فريق متخصص من المطورين ومصممي الواجهات الشغوفين بإنشاء تطبيقات Android مبتكرة وواجهات مستخدم استثنائية. رسالتنا هي تمكين الشركات من الوصول إلى ملايين مستخدمي Android عبر تطبيقات عالية الأداء وتصميمات جذابة.',
        servicesHeading: 'خدماتنا الأساسية',
        service1Title: 'تطوير تطبيقات Android',
        service1Text: 'بناء تطبيقات Android مبتكرة وعالية الأداء باستخدام أحدث التقنيات مثل Kotlin و Java. تطبيقات متوافقة مع جميع إصدارات Android.',
        service2Title: 'تصميم واجهات المستخدم (UI/UX)',
        service2Text: 'نصمم واجهات مستخدم حديثة وجذابة تتبع أحدث معايير Material Design. تجربة مستخدم سلسة وممتعة تضمن عودة العملاء.',
        service3Title: 'تطوير وتحسين التطبيقات',
        service3Text: 'نقوم بتحليل وتحسين التطبيقات القائمة، ورفع مستوى الأداء وإضافة ميزات جديدة. خدمات استشارية متخصصة.',
        
        // قسم التطبيقات (Portfolio)
        portfolioHeading: 'تطبيقاتنا المنشورة',
        portfolioSubText: 'إليك بعض من أبرز مشاريعنا التي أحدثت فرقًا في السوق.',
        
        // التطبيق الأول
        app1Title: 'AndroidShop - متجر ذكي',
        app1Desc: 'تطبيق Android تجاري متطور يوفر تجربة تسوق سلسة مع واجهة Material Design حديثة. يدعم الدفع الإلكتروني والتتبع الفوري.',
        app1CTA: 'حمله الآن',

        // التطبيق الثاني
        app2Title: 'TaskPro Android',
        app2Desc: 'تطبيق Android متطور لإدارة المهام مع واجهة مستخدم ذكية. يتضمن ميزات الذكاء الاصطناعي والمزامنة الفورية. زاد إنتاجية العملاء 50%.',
        app2CTA: 'حمله الآن',
        
        // التطبيق الثالث
        app3Title: 'UI Showcase - معرض الواجهات',
        app3Desc: 'تطبيق Android يعرض أحدث تصميمات UI/UX التي قمنا بإنشائها. واجهات مبتكرة تتبع Material Design 3 مع تأثيرات تفاعلية متطورة.',
        app3CTA: 'زيارة المعرض',
        
        // قسم الأخبار (Updates)
        updatesHeading: 'آخر الأخبار والمنشورات',
        post1Title: 'شراكة جديدة مع البنك السعودي',
        post1Desc: 'سعداء بالإعلان عن تعاوننا الاستراتيجي لتطوير تطبيق FinTech Pro الرائد في مجال التكنولوجيا المالية.',
        post1Link: 'اقرأ المزيد',
        post2Title: 'إطلاق ميزة المساعد الذكي الجديدة',
        post2Desc: 'قمنا بتحديث تطبيق TaskManager Pro بإضافة ميزة المساعد الذكي التي طال انتظارها، لتعزيز تجربة المستخدم بشكل كبير.',
        post2Link: 'اقرأ المزيد',
        
        // قسم التواصل (Contact)
        contactHeading: 'اتصل بنا',
        contactLead: 'فريقنا ينتظرك! تواصل معنا اليوم لتحويل فكرتك إلى واقع. أرسل لنا رسالة أو تواصل عبر البيانات أدناه.',
        contactEmailLabel: 'البريد الإلكتروني:',
        contactPhoneLabel: 'الهاتف:',
        
        // التذييل
        footerText: '© 2024. CRO. جميع الحقوق محفوظة.'
    }
};

function setLanguage(lang) {
    // 1. تبديل النصوص
    const currentTrans = translations[lang];
    for (const key in currentTrans) {
        const element = document.getElementById(key);
        if (element) {
            // استخدام innerHTML للحفاظ على تنسيق Bold في بعض النصوص
            element.innerHTML = currentTrans[key]; 
        }
    }

    // 2. تبديل الاتجاه (Direction) والـ lang attribute
    const htmlElement = document.documentElement;
    if (lang === 'ar') {
        htmlElement.setAttribute('lang', 'ar');
        htmlElement.setAttribute('dir', 'rtl');
    } else {
        htmlElement.setAttribute('lang', 'en');
        htmlElement.setAttribute('dir', 'ltr');
    }

    // 3. تبديل حالة الأزرار
    document.getElementById('langAr').classList.remove('active');
    document.getElementById('langEn').classList.remove('active');
    document.getElementById('lang' + (lang === 'ar' ? 'Ar' : 'En')).classList.add('active');
}

// إضافة وظائف جديدة
function handleContactForm() {
    const form = document.getElementById('contactForm');
    if (form) {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // جمع بيانات النموذج
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                service: document.getElementById('service').value,
                message: document.getElementById('message').value
            };
            
            // عرض رسالة نجاح (يمكن تطويرها لاحقاً لإرسال البيانات للخادم)
            alert('شكراً لك! تم إرسال رسالتك بنجاح. سنتواصل معك قريباً.');
            form.reset();
        });
    }
}

// إضافة تأثيرات تفاعلية للبطاقات
function addInteractiveEffects() {
    // تأثير hover للبطاقات
    const cards = document.querySelectorAll('.app-card, .service-item, .update-card');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
}

// تحسين دالة تبديل اللغة مع حفظ التفضيل
function setLanguage(lang) {
    // 1. تبديل النصوص
    const currentTrans = translations[lang];
    for (const key in currentTrans) {
        const element = document.getElementById(key);
        if (element) {
            // استخدام innerHTML للحفاظ على تنسيق Bold في بعض النصوص
            element.innerHTML = currentTrans[key]; 
        }
    }

    // 2. تبديل الاتجاه (Direction) والـ lang attribute
    const htmlElement = document.documentElement;
    if (lang === 'ar') {
        htmlElement.setAttribute('lang', 'ar');
        htmlElement.setAttribute('dir', 'rtl');
    } else {
        htmlElement.setAttribute('lang', 'en');
        htmlElement.setAttribute('dir', 'ltr');
    }

    // 3. تبديل حالة الأزرار
    document.getElementById('langAr').classList.remove('active');
    document.getElementById('langEn').classList.remove('active');
    document.getElementById('lang' + (lang === 'ar' ? 'Ar' : 'En')).classList.add('active');
    
    // 4. حفظ تفضيل اللغة
    localStorage.setItem('preferredLanguage', lang);
}

// تهيئة الموقع عند التحميل
function initializeWebsite() {
    // تشغيل مكتبة AOS
    AOS.init({
        duration: 1000,    // مدة ظهور التأثير بالملي ثانية
        once: true,        // التأثير يحدث مرة واحدة فقط عند النزول
        mirror: false,     // لا يحدث التأثير عند الصعود للأعلى
        offset: 50,        // المسافة قبل بدء التأثير
    });
    
    // قراءة اللغة المفضلة من التخزين المحلي
    const savedLanguage = localStorage.getItem('preferredLanguage') || 'ar';
    setLanguage(savedLanguage);
    
    // تفعيل نموذج الاتصال
    handleContactForm();
    
    // إضافة تأثيرات تفاعلية
    addInteractiveEffects();
    
    // إضافة smooth scroll للروابط
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
}

// تشغيل الموقع عند التحميل الكامل
window.addEventListener('load', initializeWebsite);
